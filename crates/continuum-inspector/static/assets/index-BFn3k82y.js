(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=t(l);fetch(l.href,i)}})();var V,g,ye,N,le,ge,be,ke,ee,Q,X,D={},Se=[],Fe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,j=Array.isArray;function R(e,n){for(var t in n)e[t]=n[t];return e}function ne(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Te(e,n,t){var r,l,i,c={};for(i in n)i=="key"?r=n[i]:i=="ref"?l=n[i]:c[i]=n[i];if(arguments.length>2&&(c.children=arguments.length>3?V.call(arguments,2):t),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)c[i]===void 0&&(c[i]=e.defaultProps[i]);return M(e,c,r,l,null)}function M(e,n,t,r,l){var i={type:e,props:n,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:l??++ye,__i:-1,__u:0};return l==null&&g.vnode!=null&&g.vnode(i),i}function w(e){return e.children}function O(e,n){this.props=e,this.context=n}function x(e,n){if(n==null)return e.__?x(e.__,e.__i+1):null;for(var t;n<e.__k.length;n++)if((t=e.__k[n])!=null&&t.__e!=null)return t.__e;return typeof e.type=="function"?x(e):null}function Ce(e){var n,t;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if((t=e.__k[n])!=null&&t.__e!=null){e.__e=e.__c.base=t.__e;break}return Ce(e)}}function _e(e){(!e.__d&&(e.__d=!0)&&N.push(e)&&!z.__r++||le!=g.debounceRendering)&&((le=g.debounceRendering)||ge)(z)}function z(){for(var e,n,t,r,l,i,c,a=1;N.length;)N.length>a&&N.sort(be),e=N.shift(),a=N.length,e.__d&&(t=void 0,r=void 0,l=(r=(n=e).__v).__e,i=[],c=[],n.__P&&((t=R({},r)).__v=r.__v+1,g.vnode&&g.vnode(t),te(n.__P,t,r,n.__n,n.__P.namespaceURI,32&r.__u?[l]:null,i,l??x(r),!!(32&r.__u),c),t.__v=r.__v,t.__.__k[t.__i]=t,$e(i,t,c),r.__e=r.__=null,t.__e!=l&&Ce(t)));z.__r=0}function we(e,n,t,r,l,i,c,a,d,o,h){var _,f,p,b,C,m,y,u=r&&r.__k||Se,v=n.length;for(d=qe(t,n,u,d,v),_=0;_<v;_++)(p=t.__k[_])!=null&&(f=p.__i==-1?D:u[p.__i]||D,p.__i=_,m=te(e,p,f,l,i,c,a,d,o,h),b=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&ie(f.ref,null,p),h.push(p.ref,p.__c||b,p)),C==null&&b!=null&&(C=b),(y=!!(4&p.__u))||f.__k===p.__k?d=Ee(p,d,e,y):typeof p.type=="function"&&m!==void 0?d=m:b&&(d=b.nextSibling),p.__u&=-7);return t.__e=C,d}function qe(e,n,t,r,l){var i,c,a,d,o,h=t.length,_=h,f=0;for(e.__k=new Array(l),i=0;i<l;i++)(c=n[i])!=null&&typeof c!="boolean"&&typeof c!="function"?(typeof c=="string"||typeof c=="number"||typeof c=="bigint"||c.constructor==String?c=e.__k[i]=M(null,c,null,null,null):j(c)?c=e.__k[i]=M(w,{children:c},null,null,null):c.constructor===void 0&&c.__b>0?c=e.__k[i]=M(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):e.__k[i]=c,d=i+f,c.__=e,c.__b=e.__b+1,a=null,(o=c.__i=De(c,t,d,_))!=-1&&(_--,(a=t[o])&&(a.__u|=2)),a==null||a.__v==null?(o==-1&&(l>h?f--:l<h&&f++),typeof c.type!="function"&&(c.__u|=4)):o!=d&&(o==d-1?f--:o==d+1?f++:(o>d?f--:f++,c.__u|=4))):e.__k[i]=null;if(_)for(i=0;i<h;i++)(a=t[i])!=null&&!(2&a.__u)&&(a.__e==r&&(r=x(a)),Re(a,a));return r}function Ee(e,n,t,r){var l,i;if(typeof e.type=="function"){for(l=e.__k,i=0;l&&i<l.length;i++)l[i]&&(l[i].__=e,n=Ee(l[i],n,t,r));return n}e.__e!=n&&(r&&(n&&e.type&&!n.parentNode&&(n=x(e)),t.insertBefore(e.__e,n||null)),n=e.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType==8);return n}function De(e,n,t,r){var l,i,c,a=e.key,d=e.type,o=n[t],h=o!=null&&(2&o.__u)==0;if(o===null&&a==null||h&&a==o.key&&d==o.type)return t;if(r>(h?1:0)){for(l=t-1,i=t+1;l>=0||i<n.length;)if((o=n[c=l>=0?l--:i++])!=null&&!(2&o.__u)&&a==o.key&&d==o.type)return c}return-1}function ce(e,n,t){n[0]=="-"?e.setProperty(n,t??""):e[n]=t==null?"":typeof t!="number"||Fe.test(n)?t:t+"px"}function W(e,n,t,r,l){var i,c;e:if(n=="style")if(typeof t=="string")e.style.cssText=t;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(n in r)t&&n in t||ce(e.style,n,"");if(t)for(n in t)r&&t[n]==r[n]||ce(e.style,n,t[n])}else if(n[0]=="o"&&n[1]=="n")i=n!=(n=n.replace(ke,"$1")),c=n.toLowerCase(),n=c in e||n=="onFocusOut"||n=="onFocusIn"?c.slice(2):n.slice(2),e.l||(e.l={}),e.l[n+i]=t,t?r?t.u=r.u:(t.u=ee,e.addEventListener(n,i?X:Q,i)):e.removeEventListener(n,i?X:Q,i);else{if(l=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in e)try{e[n]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&n[4]!="-"?e.removeAttribute(n):e.setAttribute(n,n=="popover"&&t==1?"":t))}}function oe(e){return function(n){if(this.l){var t=this.l[n.type+e];if(n.t==null)n.t=ee++;else if(n.t<t.u)return;return t(g.event?g.event(n):n)}}}function te(e,n,t,r,l,i,c,a,d,o){var h,_,f,p,b,C,m,y,u,v,P,F,T,se,A,q,G,$=n.type;if(n.constructor!==void 0)return null;128&t.__u&&(d=!!(32&t.__u),i=[a=n.__e=t.__e]),(h=g.__b)&&h(n);e:if(typeof $=="function")try{if(y=n.props,u="prototype"in $&&$.prototype.render,v=(h=$.contextType)&&r[h.__c],P=h?v?v.props.value:h.__:r,t.__c?m=(_=n.__c=t.__c).__=_.__E:(u?n.__c=_=new $(y,P):(n.__c=_=new O(y,P),_.constructor=$,_.render=Ue),v&&v.sub(_),_.state||(_.state={}),_.__n=r,f=_.__d=!0,_.__h=[],_._sb=[]),u&&_.__s==null&&(_.__s=_.state),u&&$.getDerivedStateFromProps!=null&&(_.__s==_.state&&(_.__s=R({},_.__s)),R(_.__s,$.getDerivedStateFromProps(y,_.__s))),p=_.props,b=_.state,_.__v=n,f)u&&$.getDerivedStateFromProps==null&&_.componentWillMount!=null&&_.componentWillMount(),u&&_.componentDidMount!=null&&_.__h.push(_.componentDidMount);else{if(u&&$.getDerivedStateFromProps==null&&y!==p&&_.componentWillReceiveProps!=null&&_.componentWillReceiveProps(y,P),n.__v==t.__v||!_.__e&&_.shouldComponentUpdate!=null&&_.shouldComponentUpdate(y,_.__s,P)===!1){for(n.__v!=t.__v&&(_.props=y,_.state=_.__s,_.__d=!1),n.__e=t.__e,n.__k=t.__k,n.__k.some(function(H){H&&(H.__=n)}),F=0;F<_._sb.length;F++)_.__h.push(_._sb[F]);_._sb=[],_.__h.length&&c.push(_);break e}_.componentWillUpdate!=null&&_.componentWillUpdate(y,_.__s,P),u&&_.componentDidUpdate!=null&&_.__h.push(function(){_.componentDidUpdate(p,b,C)})}if(_.context=P,_.props=y,_.__P=e,_.__e=!1,T=g.__r,se=0,u){for(_.state=_.__s,_.__d=!1,T&&T(n),h=_.render(_.props,_.state,_.context),A=0;A<_._sb.length;A++)_.__h.push(_._sb[A]);_._sb=[]}else do _.__d=!1,T&&T(n),h=_.render(_.props,_.state,_.context),_.state=_.__s;while(_.__d&&++se<25);_.state=_.__s,_.getChildContext!=null&&(r=R(R({},r),_.getChildContext())),u&&!f&&_.getSnapshotBeforeUpdate!=null&&(C=_.getSnapshotBeforeUpdate(p,b)),q=h,h!=null&&h.type===w&&h.key==null&&(q=Pe(h.props.children)),a=we(e,j(q)?q:[q],n,t,r,l,i,c,a,d,o),_.base=n.__e,n.__u&=-161,_.__h.length&&c.push(_),m&&(_.__E=_.__=null)}catch(H){if(n.__v=null,d||i!=null)if(H.then){for(n.__u|=d?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;i[i.indexOf(a)]=null,n.__e=a}else{for(G=i.length;G--;)ne(i[G]);Y(n)}else n.__e=t.__e,n.__k=t.__k,H.then||Y(n);g.__e(H,n,t)}else i==null&&n.__v==t.__v?(n.__k=t.__k,n.__e=t.__e):a=n.__e=Le(t.__e,n,t,r,l,i,c,d,o);return(h=g.diffed)&&h(n),128&n.__u?void 0:a}function Y(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(Y)}function $e(e,n,t){for(var r=0;r<t.length;r++)ie(t[r],t[++r],t[++r]);g.__c&&g.__c(n,e),e.some(function(l){try{e=l.__h,l.__h=[],e.some(function(i){i.call(l)})}catch(i){g.__e(i,l.__v)}})}function Pe(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:j(e)?e.map(Pe):R({},e)}function Le(e,n,t,r,l,i,c,a,d){var o,h,_,f,p,b,C,m=t.props||D,y=n.props,u=n.type;if(u=="svg"?l="http://www.w3.org/2000/svg":u=="math"?l="http://www.w3.org/1998/Math/MathML":l||(l="http://www.w3.org/1999/xhtml"),i!=null){for(o=0;o<i.length;o++)if((p=i[o])&&"setAttribute"in p==!!u&&(u?p.localName==u:p.nodeType==3)){e=p,i[o]=null;break}}if(e==null){if(u==null)return document.createTextNode(y);e=document.createElementNS(l,u,y.is&&y),a&&(g.__m&&g.__m(n,i),a=!1),i=null}if(u==null)m===y||a&&e.data==y||(e.data=y);else{if(i=i&&V.call(e.childNodes),!a&&i!=null)for(m={},o=0;o<e.attributes.length;o++)m[(p=e.attributes[o]).name]=p.value;for(o in m)if(p=m[o],o!="children"){if(o=="dangerouslySetInnerHTML")_=p;else if(!(o in y)){if(o=="value"&&"defaultValue"in y||o=="checked"&&"defaultChecked"in y)continue;W(e,o,null,p,l)}}for(o in y)p=y[o],o=="children"?f=p:o=="dangerouslySetInnerHTML"?h=p:o=="value"?b=p:o=="checked"?C=p:a&&typeof p!="function"||m[o]===p||W(e,o,p,m[o],l);if(h)a||_&&(h.__html==_.__html||h.__html==e.innerHTML)||(e.innerHTML=h.__html),n.__k=[];else if(_&&(e.innerHTML=""),we(n.type=="template"?e.content:e,j(f)?f:[f],n,t,r,u=="foreignObject"?"http://www.w3.org/1999/xhtml":l,i,c,i?i[0]:t.__k&&x(t,0),a,d),i!=null)for(o=i.length;o--;)ne(i[o]);a||(o="value",u=="progress"&&b==null?e.removeAttribute("value"):b!=null&&(b!==e[o]||u=="progress"&&!b||u=="option"&&b!=m[o])&&W(e,o,b,m[o],l),o="checked",C!=null&&C!=e[o]&&W(e,o,C,m[o],l))}return e}function ie(e,n,t){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&n==null||(e.__u=e(n))}else e.current=n}catch(l){g.__e(l,t)}}function Re(e,n,t){var r,l;if(g.unmount&&g.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||ie(r,null,n)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){g.__e(i,n)}r.base=r.__P=null}if(r=e.__k)for(l=0;l<r.length;l++)r[l]&&Re(r[l],n,t||typeof e.type!="function");t||ne(e.__e),e.__c=e.__=e.__e=void 0}function Ue(e,n,t){return this.constructor(e,t)}function Ae(e,n,t){var r,l,i,c;n==document&&(n=document.documentElement),g.__&&g.__(e,n),l=(r=!1)?null:n.__k,i=[],c=[],te(n,e=n.__k=Te(w,null,[e]),l||D,D,n.namespaceURI,l?null:n.firstChild?V.call(n.childNodes):null,i,l?l.__e:n.firstChild,r,c),$e(i,e,c)}V=Se.slice,g={__e:function(e,n,t,r){for(var l,i,c;n=n.__;)if((l=n.__c)&&!l.__)try{if((i=l.constructor)&&i.getDerivedStateFromError!=null&&(l.setState(i.getDerivedStateFromError(e)),c=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(e,r||{}),c=l.__d),c)return l.__E=l}catch(a){e=a}throw e}},ye=0,O.prototype.setState=function(e,n){var t;t=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=R({},this.state),typeof e=="function"&&(e=e(R({},t),this.props)),e&&R(t,e),e!=null&&this.__v&&(n&&this._sb.push(n),_e(this))},O.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),_e(this))},O.prototype.render=w,N=[],ge=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,be=function(e,n){return e.__v.__b-n.__v.__b},z.__r=0,ke=/(PointerCapture)$|Capture$/i,ee=0,Q=oe(!1),X=oe(!0);var We=0;function s(e,n,t,r,l,i){n||(n={});var c,a,d=n;if("ref"in d)for(a in d={},n)a=="ref"?c=n[a]:d[a]=n[a];var o={type:e,props:d,key:t,ref:c,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--We,__i:-1,__u:0,__source:l,__self:i};if(typeof e=="function"&&(c=e.defaultProps))for(a in c)d[a]===void 0&&(d[a]=c[a]);return g.vnode&&g.vnode(o),o}var L,k,K,ae,J=0,Ne=[],S=g,de=S.__b,ue=S.__r,he=S.diffed,pe=S.__c,fe=S.unmount,ve=S.__;function re(e,n){S.__h&&S.__h(k,e,J||n),J=0;var t=k.__H||(k.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function E(e){return J=1,Me(xe,e)}function Me(e,n,t){var r=re(L++,2);if(r.t=e,!r.__c&&(r.__=[xe(void 0,n),function(a){var d=r.__N?r.__N[0]:r.__[0],o=r.t(d,a);d!==o&&(r.__N=[o,r.__[1]],r.__c.setState({}))}],r.__c=k,!k.__f)){var l=function(a,d,o){if(!r.__c.__H)return!0;var h=r.__c.__H.__.filter(function(f){return!!f.__c});if(h.every(function(f){return!f.__N}))return!i||i.call(this,a,d,o);var _=r.__c.props!==a;return h.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(_=!0)}}),i&&i.call(this,a,d,o)||_};k.__f=!0;var i=k.shouldComponentUpdate,c=k.componentWillUpdate;k.componentWillUpdate=function(a,d,o){if(this.__e){var h=i;i=void 0,l(a,d,o),i=h}c&&c.call(this,a,d,o)},k.shouldComponentUpdate=l}return r.__N||r.__}function U(e,n){var t=re(L++,3);!S.__s&&He(t.__H,n)&&(t.__=e,t.u=n,k.__H.__h.push(t))}function I(e){return J=5,Oe(function(){return{current:e}},[])}function Oe(e,n){var t=re(L++,7);return He(t.__H,n)&&(t.__=e(),t.__H=n,t.__h=e),t.__}function Ie(){for(var e;e=Ne.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(B),e.__H.__h.forEach(Z),e.__H.__h=[]}catch(n){e.__H.__h=[],S.__e(n,e.__v)}}S.__b=function(e){k=null,de&&de(e)},S.__=function(e,n){e&&n.__k&&n.__k.__m&&(e.__m=n.__k.__m),ve&&ve(e,n)},S.__r=function(e){ue&&ue(e),L=0;var n=(k=e.__c).__H;n&&(K===k?(n.__h=[],k.__h=[],n.__.forEach(function(t){t.__N&&(t.__=t.__N),t.u=t.__N=void 0})):(n.__h.forEach(B),n.__h.forEach(Z),n.__h=[],L=0)),K=k},S.diffed=function(e){he&&he(e);var n=e.__c;n&&n.__H&&(n.__H.__h.length&&(Ne.push(n)!==1&&ae===S.requestAnimationFrame||((ae=S.requestAnimationFrame)||Be)(Ie)),n.__H.__.forEach(function(t){t.u&&(t.__H=t.u),t.u=void 0})),K=k=null},S.__c=function(e,n){n.some(function(t){try{t.__h.forEach(B),t.__h=t.__h.filter(function(r){return!r.__||Z(r)})}catch(r){n.some(function(l){l.__h&&(l.__h=[])}),n=[],S.__e(r,t.__v)}}),pe&&pe(e,n)},S.unmount=function(e){fe&&fe(e);var n,t=e.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{B(r)}catch(l){n=l}}),t.__H=void 0,n&&S.__e(n,t.__v))};var me=typeof requestAnimationFrame=="function";function Be(e){var n,t=function(){clearTimeout(r),me&&cancelAnimationFrame(n),setTimeout(e)},r=setTimeout(t,35);me&&(n=requestAnimationFrame(t))}function B(e){var n=k,t=e.__c;typeof t=="function"&&(e.__c=void 0,t()),k=n}function Z(e){var n=k;e.__c=e.__(),k=n}function He(e,n){return!e||e.length!==n.length||n.some(function(t,r){return t!==e[r]})}function xe(e,n){return typeof n=="function"?n(e):n}function ze(e){const[n,t]=E("connecting"),r=I(null),l=I(1),i=I(new Map);U(()=>{const d=new WebSocket(e);return r.current=d,d.onopen=()=>{console.log("WebSocket connected"),t("connected")},d.onclose=()=>{console.log("WebSocket disconnected"),t("disconnected")},d.onerror=o=>{console.error("WebSocket error:",o),t("disconnected")},d.onmessage=o=>{try{const h=JSON.parse(o.data),_="type"in h?h.type:"response",f=i.current.get(_);f&&f.forEach(b=>b(h));const p=i.current.get("*");p&&p.forEach(b=>b(h))}catch(h){console.error("Failed to parse WebSocket message:",h)}},()=>{d.close()}},[e]);const c=(d,o)=>new Promise((h,_)=>{if(!r.current||r.current.readyState!==WebSocket.OPEN){_(new Error("WebSocket not connected"));return}const f=l.current++,p={id:f,type:d,payload:o},C=a("response",m=>{"id"in m&&m.id===f&&(C(),m.ok?h(m.payload):_(new Error(m.error||"Request failed")))});try{r.current.send(JSON.stringify(p))}catch(m){C(),_(m)}setTimeout(()=>{C(),_(new Error("Request timeout"))},3e4)}),a=(d,o)=>(i.current.has(d)||i.current.set(d,new Set),i.current.get(d).add(o),()=>{const h=i.current.get(d);h&&(h.delete(o),h.size===0&&i.current.delete(d))});return{status:n,sendRequest:c,subscribe:a}}function Je({status:e,tickInfo:n,ws:t}){const[r,l]=E(!1);return s("header",{class:"header",children:[s("h1",{children:"Continuum Inspector"}),s("div",{class:"header-controls",children:[s("button",{onClick:()=>{t.sendRequest("step",{count:1}).catch(console.error)},disabled:r,children:"Step"}),s("button",{onClick:()=>{t.sendRequest("run").then(()=>l(!0)).catch(console.error)},disabled:r,class:"primary",children:"Run"}),s("button",{onClick:()=>{t.sendRequest("stop").then(()=>l(!1)).catch(console.error)},disabled:!r,class:"danger",children:"Stop"})]}),s("div",{class:"header-info",children:[n&&s("div",{class:"tick-info",children:[s("span",{children:["Tick: ",n.tick]}),s("span",{children:["Era: ",n.era]}),s("span",{children:["Phase: ",n.phase]})]}),s("div",{class:"status",children:[s("span",{class:`status-indicator status-${e}`}),s("span",{children:e==="connected"?"Connected":e==="connecting"?"Connecting...":"Disconnected"})]})]})]})}function Ve({currentTab:e,onTabChange:n,onSelectItem:t,ws:r}){const[l,i]=E([]),[c,a]=E([]),[d,o]=E([]),[h,_]=E([]),[f,p]=E([]);U(()=>r.status!=="connected"?void 0:(r.sendRequest("signal.list").then(v=>{i(v.signals||[])}).catch(console.error),r.sendRequest("field.list").then(v=>{a(v.fields||[])}).catch(console.error),r.sendRequest("entity.list").then(v=>{o(v.entities||[])}).catch(console.error),r.sendRequest("assertion.failures").then(v=>{p(v.failures||[])}).catch(console.error),r.subscribe("chronicle.event",v=>{"type"in v&&v.type==="chronicle.event"&&_(P=>[...P,{...v.payload,timestamp:new Date}].slice(-200))})),[r.status]);const b=u=>{r.sendRequest("signal.describe",{signal_id:u}).then(v=>{t({type:"signal",data:v})}).catch(console.error)},C=u=>{r.sendRequest("field.describe",{field_id:u}).then(v=>{t({type:"field",data:v})}).catch(console.error)},m=u=>{r.sendRequest("entity.describe",{entity_id:u}).then(v=>{t({type:"entity",data:v})}).catch(console.error)},y=u=>{t({type:"chronicle",data:u})};return s("div",{class:"tab-panel",children:[s("div",{class:"tabs",children:[s("button",{class:e==="signals"?"active":"",onClick:()=>n("signals"),children:["Signals (",l.length,")"]}),s("button",{class:e==="fields"?"active":"",onClick:()=>n("fields"),children:["Fields (",c.length,")"]}),s("button",{class:e==="entities"?"active":"",onClick:()=>n("entities"),children:["Entities (",d.length,")"]}),s("button",{class:e==="chronicles"?"active":"",onClick:()=>n("chronicles"),children:["Chronicles (",h.length,")"]}),s("button",{class:e==="assertions"?"active":"",onClick:()=>n("assertions"),children:["Assertions (",f.length,")"]})]}),s("div",{class:"tab-content",children:[e==="signals"&&s("div",{class:"item-list",children:l.map(u=>s("div",{class:"item",onClick:()=>b(u),children:u},u))}),e==="fields"&&s("div",{class:"item-list",children:c.map(u=>s("div",{class:"item",onClick:()=>C(u),children:u},u))}),e==="entities"&&s("div",{class:"item-list",children:d.map(u=>s("div",{class:"item",onClick:()=>m(u),children:u},u))}),e==="chronicles"&&s("div",{class:"item-list",children:h.length===0?s("div",{class:"empty",children:"No chronicle events yet..."}):[...h].reverse().map((u,v)=>s("div",{class:"item chronicle-item",onClick:()=>y(u),children:[s("div",{class:"chronicle-name",children:u.name}),s("div",{class:"chronicle-meta",children:["Tick ",u.tick," • Era: ",u.era," • ",u.sim_time.toFixed(2),"s"]})]},v))}),e==="assertions"&&s("div",{class:"item-list",children:f.length===0?s("div",{class:"empty",children:"No assertion failures"}):[...f].reverse().map((u,v)=>s("div",{class:`item assertion-item severity-${u.severity}`,onClick:()=>t({type:"assertion",data:u}),children:[s("div",{class:"assertion-signal",children:u.signal_id}),s("div",{class:"assertion-severity",children:u.severity.toUpperCase()}),s("div",{class:"assertion-message",children:u.message}),s("div",{class:"assertion-meta",children:["Tick ",u.tick," • Era: ",u.era," • ",u.sim_time.toFixed(2),"s"]})]},v))})]})]})}function je({selectedItem:e}){if(!e)return s("div",{class:"detail-panel",children:s("div",{class:"empty",children:"Select an item to view details"})});const{type:n,data:t}=e;return s("div",{class:"detail-panel",children:[s("div",{class:"detail-header",children:[s("h2",{children:t.title||t.id||t.name}),s("div",{class:"detail-type",children:n})]}),t.doc&&s("div",{class:"detail-doc",children:t.doc}),s("div",{class:"detail-content",children:[n==="signal"&&s("div",{class:"detail-grid",children:[s("span",{class:"label",children:"ID:"}),s("span",{children:t.id}),s("span",{class:"label",children:"Type:"}),s("span",{children:t.value_type}),t.unit&&s(w,{children:[s("span",{class:"label",children:"Unit:"}),s("span",{children:t.unit})]}),t.stratum&&s(w,{children:[s("span",{class:"label",children:"Stratum:"}),s("span",{children:t.stratum})]}),t.range&&s(w,{children:[s("span",{class:"label",children:"Range:"}),s("span",{children:[t.range[0]," … ",t.range[1]]})]})]}),n==="field"&&s("div",{class:"detail-grid",children:[s("span",{class:"label",children:"ID:"}),s("span",{children:t.id}),s("span",{class:"label",children:"Topology:"}),s("span",{children:t.topology}),s("span",{class:"label",children:"Type:"}),s("span",{children:t.value_type}),t.unit&&s(w,{children:[s("span",{class:"label",children:"Unit:"}),s("span",{children:t.unit})]}),t.range&&s(w,{children:[s("span",{class:"label",children:"Range:"}),s("span",{children:[t.range[0]," … ",t.range[1]]})]})]}),n==="entity"&&s("div",{class:"detail-grid",children:[s("span",{class:"label",children:"ID:"}),s("span",{children:t.id}),t.count_bounds&&s(w,{children:[s("span",{class:"label",children:"Count Bounds:"}),s("span",{children:[t.count_bounds[0]," … ",t.count_bounds[1]]})]})]}),n==="chronicle"&&s(w,{children:[s("div",{class:"detail-grid",children:[s("span",{class:"label",children:"Event:"}),s("span",{children:t.name}),s("span",{class:"label",children:"Tick:"}),s("span",{children:t.tick}),s("span",{class:"label",children:"Era:"}),s("span",{children:t.era}),s("span",{class:"label",children:"Sim Time:"}),s("span",{children:[t.sim_time.toFixed(2),"s"]})]}),t.fields&&t.fields.length>0&&s("div",{class:"detail-section",children:[s("h3",{children:"Fields"}),s("div",{class:"detail-grid",children:t.fields.map(([r,l])=>s(w,{children:[s("span",{class:"label",children:[r,":"]}),s("span",{children:JSON.stringify(l)})]}))})]})]}),n==="assertion"&&s(w,{children:s("div",{class:"detail-grid",children:[s("span",{class:"label",children:"Signal:"}),s("span",{children:t.signal_id}),s("span",{class:"label",children:"Severity:"}),s("span",{class:`severity-${t.severity}`,children:t.severity.toUpperCase()}),s("span",{class:"label",children:"Message:"}),s("span",{children:t.message}),s("span",{class:"label",children:"Tick:"}),s("span",{children:t.tick}),s("span",{class:"label",children:"Era:"}),s("span",{children:t.era}),s("span",{class:"label",children:"Sim Time:"}),s("span",{children:[t.sim_time.toFixed(2),"s"]})]})})]})]})}function Ge({ws:e}){const[n,t]=E([]),r=I(null);return U(()=>e.status!=="connected"?void 0:e.subscribe("*",c=>{const a={timestamp:new Date,type:"type"in c&&c.type.includes("event")?"event":"error"in c?"error":"info",message:JSON.stringify(c,null,2)};t(d=>[...d,a].slice(-500))}),[e.status]),U(()=>{var i;(i=r.current)==null||i.scrollIntoView({behavior:"smooth"})},[n]),s("div",{class:"log-panel",children:[s("div",{class:"log-header",children:[s("h3",{children:"Log"}),s("button",{onClick:()=>{t([])},class:"small",children:"Clear"})]}),s("div",{class:"log-content",children:[n.map((i,c)=>s("div",{class:`log-entry log-${i.type}`,children:[s("span",{class:"log-time",children:["[",i.timestamp.toLocaleTimeString(),"]"]}),s("span",{class:"log-message",children:i.message})]},c)),s("div",{ref:r})]})]})}function Ke(){const e=ze(`ws://${location.host}/ws`),[n,t]=E("signals"),[r,l]=E(null),[i,c]=E(null);return U(()=>{if(e.status!=="connected")return;const a=e.subscribe("tick",d=>{"type"in d&&d.type==="tick"&&c(d.payload)});return e.sendRequest("status").then(d=>{d&&c(d)}).catch(console.error),a},[e.status]),s("div",{class:"app",children:[s(Je,{status:e.status,tickInfo:i,ws:e}),s("div",{class:"main-layout",children:[s(Ve,{currentTab:n,onTabChange:t,onSelectItem:l,ws:e}),s("div",{class:"right-panel",children:[s(je,{selectedItem:r,ws:e}),s(Ge,{ws:e})]})]})]})}Ae(s(Ke,{}),document.getElementById("app"));
